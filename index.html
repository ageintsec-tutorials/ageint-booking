<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ageint Booking</title>

    <!-- Google Fonts: Roboto & Outfit (for headers) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&family=Roboto:wght@300;400;500&display=swap"
        rel="stylesheet">

    <!-- Material Symbols -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

    <style>
        :root {
            /* Palette: Modern Light Monochrome / Gallery Clean */
            --bg-base: #FFFFFF;
            --bg-subtle: #F9FAFB;

            --glass-surface: rgba(255, 255, 255, 0.6);
            --glass-border: rgba(255, 255, 255, 0.4);

            --primary: #000000;
            --text-main: #111111;
            --text-sub: #555555;

            /* Spacing */
            --space-sm: 16px;
            --space-md: 24px;
            --space-xl: 80px;

            /* Effects */
            --radius-lg: 32px;
            --radius-md: 16px;
            --blur: 40px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
            /* Remove mobile tap highlight */
        }

        body {
            background-color: var(--bg-base);
            color: var(--text-main);
            font-family: 'Roboto', sans-serif;
            min-height: 100vh;
            /* Mobile First: Use dynamic viewport height to fix mobile browser bar scroll issues */
            height: 100dvh;
            overflow: hidden;
            /* Aurora Background Animation */
            background: linear-gradient(120deg, #ffffff, #f0f2f5, #eef2f3);
            background-size: 200% 200%;
            animation: aurora 15s ease infinite;
            position: relative;
        }

        @keyframes aurora {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        h1,
        h2,
        h3,
        .brand {
            font-family: 'Outfit', sans-serif;
        }

        /* Particle Background */
        #particles-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            /* MOBILE FIX: Apply blur/grayscale via CSS for better performance and support */
            filter: grayscale(100%) blur(3px);
        }

        /* View Management */
        .view {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transition: all 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        /* Landing View (Start Screen) */
        #landing-view {
            z-index: 2;
            /* Above particles */
            opacity: 1;
            transform: translateY(0);
        }

        #landing-view.hidden {
            opacity: 0;
            transform: translateY(-100dvh);
            /* Push completely off-screen */
            pointer-events: none;
        }

        /* Booking View */
        #booking-view {
            z-index: 3;
            /* Topmost when active */
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.8s ease;
            padding: 10px;
            /* Tighter padding on mobile */
            pointer-events: none;
            /* KEY FIX: Prevent blocking clicks when invisible */
        }

        #booking-view.active {
            opacity: 1;
            transform: scale(1);
            pointer-events: auto;
            /* Enable clicks when active */
        }

        /* Elements */
        .brand {
            position: absolute;
            top: 24px;
            left: 50%;
            transform: translateX(-50%);
            font-weight: 700;
            font-size: 1.1rem;
            letter-spacing: 1px;
            text-transform: uppercase;
            z-index: 10;
        }

        .welcome-card {
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(60px);
            -webkit-backdrop-filter: blur(60px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: var(--radius-lg);
            padding: 40px 24px;
            /* Reduced for mobile */
            text-align: center;
            box-shadow:
                0 30px 80px -20px rgba(0, 0, 0, 0.1),
                inset 0 0 0 1px rgba(255, 255, 255, 0.5);
            max-width: 600px;
            width: 100%;
            position: relative;
        }

        .welcome-card h1 {
            font-size: 2.5rem;
            /* Mobile first font size */
            font-weight: 800;
            margin-bottom: var(--space-sm);
            letter-spacing: -1px;
            line-height: 1.3;
            /* Increased from 1.1 to fix clipping */
            padding-bottom: 0.2em;
            /* Added buffer for descenders */
            background: linear-gradient(135deg, #111111 0%, #555555 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .welcome-card p {
            font-size: 1.1rem;
            color: var(--text-sub);
            margin-bottom: 40px;
            font-weight: 300;
            line-height: 1.5;
        }

        .cta-button {
            padding: 16px 32px;
            width: 100%;
            /* Full width on smallest screens */
            max-width: 300px;
            /* Cap width */
            background: #000;
            color: #fff;
            border: none;
            border-radius: 100px;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: inline-flex;
            justify-content: center;
            /* Center content */
            align-items: center;
            gap: 10px;
        }

        .cta-button:active {
            transform: scale(0.98);
            /* Tactile feedback */
        }

        /* Booking Container (Cinema Mode) */
        .booking-frame-container {
            width: 100%;
            height: 92%;
            /* Maximize space */
            max-width: 1200px;
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            border: 1px solid rgba(0, 0, 0, 0.05);
            margin-top: 50px;
            /* Clear the brand */
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Desktop / Tablet Adjustments */
        @media (min-width: 768px) {
            .welcome-card {
                padding: 80px 60px;
            }

            .welcome-card h1 {
                font-size: 4.5rem;
                margin-bottom: var(--space-md);
            }

            .welcome-card p {
                font-size: 1.25rem;
            }

            .cta-button {
                width: auto;
                /* Auto width on desktop */
                padding: 18px 48px;
            }

            .cta-button:hover {
                transform: scale(1.05) translateY(-2px);
                box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            }

            #booking-view {
                padding: 20px;
            }
        }
    </style>
</head>

<body>

    <!-- Shared Header (Just Brand, No Icons) -->
    <div class="brand">Ageint Booking</div>

    <!-- Particle Canvas -->
    <canvas id="particles-canvas"></canvas>

    <!-- View 1: Landing -->
    <div id="landing-view" class="view">
        <div class="welcome-card">
            <h1>Welcome to Ageint Booking</h1>
            <p>Your gateway to seamless technical support.</p>
            <button class="cta-button" onclick="startBooking()">
                Let's Get Booked
                <span class="material-symbols-outlined">arrow_forward</span>
            </button>
        </div>
    </div>

    <!-- View 2: Booking (Hidden initially) -->
    <div id="booking-view" class="view">
        <div class="booking-frame-container">
            <iframe src="https://cal.com/levi-mccarty-zywrkm/remote-support-session?theme=light"
                title="Schedule a session" allow="camera; microphone; autoplay; fullscreen"></iframe>
        </div>
    </div>

    <script>
        function startBooking() {
            // Add hidden class to landing (triggers slide-up fade out)
            document.getElementById('landing-view').classList.add('hidden');

            // Add active class to booking (triggers scale in fade in)
            document.getElementById('booking-view').classList.add('active');
        }

        // --- Canvas Spring Physics Engine ---
        document.addEventListener('DOMContentLoaded', () => {
            const canvas = document.getElementById('particles-canvas');
            const ctx = canvas.getContext('2d');

            let width, height;

            function resize() {
                width = window.innerWidth;
                height = window.innerHeight;
                canvas.width = width;
                canvas.height = height;
            }
            window.addEventListener('resize', resize);
            resize();

            // Load Image
            const img = new Image();
            img.src = 'https://cdn.jsdelivr.net/gh/ageintsec-tutorials/ageintsupport@main/images.jpg';

            // Physics Constants
            const PARTICLE_COUNT = 85;
            const MOUSE_RADIUS = 150;
            const SPRING_STRENGTH = 0.05; // Strength of snap-back (Higher = stiffer spring)
            const FRICTION = 0.9;         // Damping (Lower = less slide)

            // Interaction State
            const mouse = { x: -1000, y: -1000 };

            window.addEventListener('mousemove', (e) => {
                mouse.x = e.clientX;
                mouse.y = e.clientY;
            });

            window.addEventListener('touchmove', (e) => {
                mouse.x = e.touches[0].clientX;
                mouse.y = e.touches[0].clientY;
            }, { passive: true });

            window.addEventListener('touchend', () => {
                mouse.x = -1000;
                mouse.y = -1000;
            });

            // Particle Class
            class Particle {
                constructor() {
                    // Base Position (Floating Path)
                    this.baseX = Math.random() * width;
                    this.baseY = Math.random() * height;

                    // Displacement (Spring offset)
                    this.offsetX = 0;
                    this.offsetY = 0;

                    // Velocities for Spring Physics
                    this.vx = 0;
                    this.vy = 0;

                    // Appearance
                    this.size = Math.random() * 30 + 10; // 10px to 40px

                    // Depth Logic (Size -> Opacity/Speed)
                    const depth = (this.size - 10) / 30; // 0 to 1
                    this.floatSpeed = 0.2 + (depth * 0.5);
                    this.opacity = 0.05 + (depth * 0.12);
                }

                update() {
                    // 1. Natural Float (Upward)
                    this.baseY -= this.floatSpeed;

                    // Wrap around screen
                    if (this.baseY < -50) {
                        this.baseY = height + 50;
                        this.baseX = Math.random() * width;
                        // Reset spring state on wrap
                        this.offsetX = 0;
                        this.offsetY = 0;
                        this.vx = 0;
                        this.vy = 0;
                    }

                    // 2. Interaction & Spring Physics
                    const dx = (this.baseX + this.offsetX) - mouse.x;
                    const dy = (this.baseY + this.offsetY) - mouse.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance < MOUSE_RADIUS) {
                        // Repulsion Force
                        const forceDirectionX = dx / distance;
                        const forceDirectionY = dy / distance;
                        const force = (MOUSE_RADIUS - distance) / MOUSE_RADIUS;
                        const repulsionStrength = 1.2; // Push multiplier

                        this.vx += forceDirectionX * force * repulsionStrength;
                        this.vy += forceDirectionY * force * repulsionStrength;
                    }

                    // Spring Restoration Force (Hooke's Law: F = -k * x)
                    // Pulls offsetX/Y back to 0
                    const springX = -this.offsetX * SPRING_STRENGTH;
                    const springY = -this.offsetY * SPRING_STRENGTH;

                    this.vx += springX;
                    this.vy += springY;

                    // Apply Friction/Damping
                    this.vx *= FRICTION;
                    this.vy *= FRICTION;

                    // Update Position
                    this.offsetX += this.vx;
                    this.offsetY += this.vy;
                }

                draw() {
                    const x = this.baseX + this.offsetX;
                    const y = this.baseY + this.offsetY;

                    // Culling: Don't draw if off-screen
                    if (x < -50 || x > width + 50 || y < -50 || y > height + 50) return;

                    ctx.globalAlpha = this.opacity;

                    ctx.save();
                    ctx.beginPath();
                    ctx.arc(x + this.size / 2, y + this.size / 2, this.size / 2, 0, Math.PI * 2);
                    ctx.closePath();
                    // Clip to circle
                    ctx.clip();

                    if (img.complete) {
                        // ctx.filter handled by CSS now for mobile performance
                        ctx.drawImage(img, x, y, this.size, this.size);
                    }
                    ctx.restore();
                }
            }

            // Initialize Particles
            const particles = [];
            for (let i = 0; i < PARTICLE_COUNT; i++) {
                particles.push(new Particle());
            }

            // Animation Loop
            function animate() {
                // Clear Canvas
                ctx.clearRect(0, 0, width, height);

                particles.forEach(p => {
                    p.update();
                    p.draw();
                });

                requestAnimationFrame(animate);
            }

            animate();
        });
    </script>
</body>

</html>
